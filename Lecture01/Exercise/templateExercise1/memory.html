<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Memory Game</title>
    <link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/bootstrap/4.5.2/css/bootstrap.min.css">
    <link rel="stylesheet" href="style.css">
</head>
<body>
    <div class="container">
        <h1 class="text-center my-4">Memory Game</h1>
        <div id="game-board" class="row justify-content-center">
            <div class="card" onclick="flipCard('card-1')" id="card-1"> ? </div>
            <div class="card" onclick="flipCard('card-2')" id="card-2"> ? </div>
            <div class="card" onclick="flipCard('card-3')" id="card-3"> ? </div>
            <div class="card" onclick="flipCard('card-4')" id="card-4"> ? </div>            
        </div>
    </div>


    <script>
        let cards = {
            'card-1': 'apple',
            'card-2': 'banana',
            'card-3': 'apple',
            'card-4': 'banana'
        };

        let flippedCards = []; // Array of flipped cards

        function flipCard(cardId) {
            if (flippedCards.length === 2) {
                return; // T3: only two cards can be flipped at a time
            }

            let cardElement = document.getElementById(cardId);

            if (cardElement.classList.contains('flipped')) {
                return; // T3: ensure that cards can only be clicked once per round
            }

            // Flip the card
            cardElement.textContent = cards[cardId]; // T3: when a card is clicked ...
            cardElement.classList.add('flipped'); // T3: add a basic visual indicator when a card is flipped
            flippedCards.push(cardId);

            if (flippedCards.length === 2) {
                checkForMatch(); // T4: match checking
            }
        }

        // Function to check if the two flipped cards match
        function checkForMatch() {
            const [firstCardId, secondCardId] = flippedCards;

            // If the cards match, leave them flipped, otherwise reset them
            if (cards[firstCardId] !== cards[secondCardId]) {
                setTimeout(() => {
                    resetCards(firstCardId, secondCardId);
                }, 1000); // Wait 1 second before resetting
            }

            // Reset the flipped cards array
            flippedCards = [];
        }

        // Function to reset the cards back to their original state
        function resetCards(firstCardId, secondCardId) {
            let firstCard = document.getElementById(firstCardId);
            let secondCard = document.getElementById(secondCardId);

            // Reset the cards back to showing "?"
            firstCard.textContent = "?";
            secondCard.textContent = "?";

            // Remove the flipped class
            firstCard.classList.remove('flipped');
            secondCard.classList.remove('flipped');
        }
        // Place script code here
    </script>
</body>
</html>